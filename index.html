<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sneaker Shop Admin</title>
    <style>
        body { font-family: sans-serif; margin: 20px; background: #f4f4f4; }
        .container { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        input { display: block; margin-bottom: 10px; padding: 8px; width: 100%; box-sizing: border-box; }
        button { background: #28a745; color: white; border: none; padding: 10px; cursor: pointer; width: 100%; }
        .item { border-bottom: 1px solid #ddd; padding: 10px 0; display: flex; justify-content: space-between; }
        .delete-btn { background: #dc3545; width: auto; font-size: 12px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Sneaker Store</h1>
        
        <h3>Add New Sneaker</h3>
        <input type="text" id="title" placeholder="Title (e.g. Nike Air)">
        <input type="number" id="price" placeholder="Price">
        <input type="text" id="brand" placeholder="Brand">
        <button onclick="addProduct()">Add to Inventory</button>

        <hr>

        <h3>Current Inventory</h3>
        <div id="productList"></div>
    </div>

    <script>
        const API_URL = 'http://localhost:3000/products';

        async function fetchProducts() {
            const res = await fetch(API_URL);
            const data = await res.json();
            const list = document.getElementById('productList');
            list.innerHTML = data.map(p => `
                <div class="item">
                    <span><strong>${p.brand} ${p.title}</strong> - $${p.price}</span>
                    <button class="delete-btn" onclick="deleteProduct('${p._id}')">Delete</button>
                </div>
            `).join('');
        }

        async function addProduct() {
            const title = document.getElementById('title').value;
            const price = document.getElementById('price').value;
            const brand = document.getElementById('brand').value;

            await fetch(API_URL, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ title, price, brand })
            });

            location.reload(); // Refresh to see new item
        }

        async function deleteProduct(id) {
            await fetch(`${API_URL}/${id}`, { method: 'DELETE' });
            fetchProducts();
        }

        fetchProducts();
    </script>
</body>
</html>